# Лабораторная №2

## Задание 1

```shell
URL-Адрес Запроса: https://ya.ru/
Метод Запроса: GET
Код Состояния: 200
Удаленный Адрес: 77.88.55.242:443
Политика Источника unsafe-url

Content-Type:
text/html; charset=UTF-8

Cache-Control: no-cache,no-store,max-age=0,must-revalidate

User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36 Edg/116.0.1938.81

```
### Вопрос 1

Request URL - Адрес запроса

Request Method - Метод HTTP запроса

Status Code - Код статуса HTTP, означающий успешное выполнение запроса 

Remote Address- IP-адрес сервера и порт, с которым было установлено соединение (443 - стандартный порт для HTTPS-соединений).

Referrer Policy - HTTP-заголовок Referrer-Policy определяет, какой объем информации о реферере (отправляемой с заголовком Referer) следует включать в запросы.

content-type -  MIME-тип содержимого ответа и используемая кодировка.

cache-control - Инструкции по кэшу для браузера (хранить/не хранить и т.п.)

cookie - Файл с личными данными пользователя, сохраняемый в браузере

user-agent - Браузер, с которого был открыт запрос

referer - Сайт, с которого была совершена переодрессация



### Вопрос 2

Remote Address 77.88.55.242:443 состоит из двух основных частей:

- IP-адрес (77.88.55.242): Это числовой идентификатор, который идентифицирует устройство или компьютер в сети Интернет. В данном случае, IP-адрес 77.88.55.242 указывает на конкретное устройство, к которому устанавливается соединение.

- Порт (443): Это числовой идентификатор, который определяет, к какому приложению или службе нужно направить запрос на указанном IP-адресе. 

### Вопрос 3

Порт подключения - это числовой идентификатор приложения/службы, которые обслуживают сетевые соединения на заданном сервере.

### Вопрос 4

Заголовки обычно разделяются на несколько секций, каждая из которых имеет свой смысл и предназначение. Основные секции заголовков HTTP (Hypertext Transfer Protocol) включают:

- Start-Line (Стартовая строка): Эта секция содержит информацию о версии HTTP протокола, методе запроса или статусе ответа, а также целевом ресурсе.

- Headers (Заголовки): Заголовки содержат метаданные о запросе или ответе. Они представляют собой пары "ключ-значение" и используются для передачи информации о клиенте, сервере, контенте, кэшировании и других аспектах запроса или ответа. Некоторые общие заголовки включают "Host" (для указания хоста), "User-Agent" (для указания информации о клиенте), "Content-Type" (для указания типа контента) и многие другие.

- Message Body (Тело сообщения): Эта секция содержит фактические данные, передаваемые в запросе или ответе. 

 - Каждая секция заголовка имеет свой смысл и используется для передачи различных аспектов информации между клиентом и сервером в рамках HTTP-протокола. 


### Вопрос 5

В данном HTTP запросе есть несколько заголовков, которые повторяются в разных секциях. Эти заголовки повторяются с разными значениями в разных контекстах, и это может иметь разные смыслы в зависимости от контекста.

1. Cache-Control: Заголовок Cache-Control повторяется дважды с разными значениями. В первой секции он имеет значение "no-cache,no-store,max-age=0,must-revalidate", что указывает на то, что ресурс не должен кэшироваться. Во второй секции он имеет значение "max-age=0", что также указывает на то, что ресурс не должен кэшироваться. Повторение этого заголовка может быть связано с желанием явно указать, что ресурс не должен кэшироваться в любом случае.

2. Link: Заголовок Link также повторяется дважды с разными значениями. Этот заголовок используется для предварительной загрузки ресурсов. Первое значение связано с предварительной загрузкой JavaScript-файла, а второе - с предварительной загрузкой изображения. Повторение этого заголовка может быть связано с тем, что разные ресурсы требуют предварительной загрузки с разными параметрами.

3. Report-To: Заголовок Report-To также повторяется дважды, но в обоих случаях он указывает на конечные точки, куда отправлять отчеты об ошибках сети. Повторение этого заголовка может быть связано с необходимостью отправлять отчеты на несколько конечных точек для надежности.

4. Повторение заголовков может быть использовано для предоставления дополнительной информации или настроек для разных частей ресурса или разных типов запросов. Каждый заголовок в разных секциях может иметь свои собственные значения, чтобы удовлетворить требования конкретного контекста запроса или ответа.

### Вопрос 6

Тело запроса содержит ключевую информацию о запросе пользователя и ответе сервера для сайта 'https://ya.ru/'. Краткое описание каждого параметра представлено ниже:

- URL-Адрес Запроса: адрес запрашиваемого ресурса (https://ya.ru/)
- Метод Запроса: GET, обозначает метод HTTP, используемый для запроса
- Код Состояния: 200, означает, что запрос был успешно обработан и веб-страница вернулась без ошибок
- Удаленный Адрес: IP-адрес (77.88.55.242) и порт (443), на котором находится удаленный сервер
Политика Источника Ссылки: определяет, как информация о ссылках передается между документами
- Accept-Ch: передает список клиентских характеристик, которые сервис может использовать для адаптации содержимого
- Cache-Control: директивы для HTTP-кэширования
- Content-Encoding: указывает, какой метод сжатия использовался для содержимого (br - Brotli сжатие)
- Content-Security-Policy: определяет источники контента, которые допускаются для загрузки
- Content-Type: определяет тип содержимого веб-страницы (text/html; charset=UTF-8)
- Date, Expires, Last-Modified: даты создания, срока действия и последнего изменения содержимого
- Link: ссылки на дополнительные ресурсы, которые могут быть предварительно загружены для оптимизации производительности
- Nel: определяет политику сбора отчетов о сетевых ошибках
- P3p: платформа для защиты конфиденциальности
- Report-To, Reporting-Endpoints: используются для отправки отчетов о сетевых ошибках на указанный URL
- Strict-Transport-Security: обеспечивает безопасность передачи данных, требуя использования HTTPS
- Vary: указывает заголовки запроса, которые определяют, сохраняется ли данная версия страницы в кэше
- X-Content-Type-Options, X-Frame-Options, X-Yandex-Req-Id: безопасные и служебные заголовки от сервера

## Задание 2

>>При открытых во вкладке инструментах разработчика сделайте запрос на http://rgups.ru/ и обратите внимание на то изменился ли адрес в адресной строке? - Если Вы всё правильно сделали, то он должен был немного измениться.

http://rgups.ru изменился на https://rgups.ru
Изучите из-за чего так произошло и ответьте на вопросы:

__Из-за чего произошло изменение адреса в адресной строке? Какие заголовки в этом поучаствовали и как?__
  
При запросе http://, многие веб-серверы автоматически перенаправляют на https:// для обеспечения безопасной передачи данных. Это делается с помощью HTTP-заголовка 301 Moved Permanently, который указывает на новый адрес с префиксом https://. Это мера безопасности, чтобы защитить конфиденциальные данные пользователей.

__Адрес был изменён в исходном запросе или потребовались дополнительные запросы, если были дополнительные запросы, то сколько?__

При перенаправлении с http:// на https://, адрес изменяется в исходном запросе, и это обычно выполняется с помощью одного дополнительного запроса. Вот как это происходит:

- Клиент отправляет исходный HTTP-запрос на http://rgups.ru.
- Веб-сервер, обнаружив, что должно использоваться безопасное соединение, отправляет HTTP-заголовок 301 Moved Permanently, указывая на новый адрес https://rgups.ru.
- Клиент получает этот ответ и выполняет ещё один запрос, на этот раз к https://rgups.ru.

__Какой статус ответа имеет первоначальный запрос?__

Первоначальный запрос, который отправляется на http://rgups.ru до перенаправления на https://rgups.ru, имеет статус ответа HTTP 200 OK или другой статус, зависящий от конкретного контента или ресурса на сервере.

## Задание 3

>Повторите запрос на https://ya.ru/ и изучите заголовки влияющие на получение и отправку **cookie** параметров.

>>После чего:
>>1. Перечислите название этих параметров и формат данных в них.

При запросе на https://ya.ru/, можно наблюдать несколько заголовков в ответе сервера, которые отвечают за получение и отправку cookie параметров:

- "Set-Cookie": передает cookie-параметры на клиент в ответ на запрос (HTTP-заголовок)
- "Cookie": содержит записи cookie, отправленные в запросе клиента (HTTP-заголовок)

>>2. Как можно удобно просмотреть все cookie, используемые на странице? Что означают их параметры Name, Value, Domain, Path и Expires?

Для удобного просмотра cookie - файлов следует перейти в консоли разработчиков во вкладку Приложения -> Cookie.

- Name: Имя cookie. Это название cookie, используемое для хранения и доступа к сохраненным данным на сервере.

- Value: Значение cookie. Это данные, хранящиеся в cookie, которые используются для идентификации пользователя и сохранения состояния приложения.
- Domain: Домен, для которого создан cookie. Это домен, для которого был создан cookie, и который имеет доступ к этому cookie.
- Path: Путь, для которого создан cookie. Любые запросы, отправленные на этот путь на сервер, будут содержать этот cookie.
- Expires: Дата и время истечения срока действия cookie. После этой даты cookie больше не будет использоваться для доступа к данным на сервере. Если эта дата не указана, то cookie считается сеансовым и будет удален при закрытии браузера.

>>3. Как просмотреть все cookie связанные с текущим (просматриваемым) сайтом?

Во вкладке Приложения (Applications) -> cookies.

>>4. Опишите своими словами как вы понимаете суть и назначение cookie?

Cookie - небольшие файлы, содержащие важную информацию о клиенте, которые говорят сайту о настройках браузера, аккаунте пользователя и т.п.

## Задание 4

Исследование построения документов и сопутствующих запросов.
Изучите вкладку Elements и дерево тегов документа. Изучите список запросов на вкладке Network.

#### Ответьте на вопросы:
1. Что такое DOM? — Опишите своими словами

    DOM (Document Object Model) - интерфейс в консоли разработчика, который позволяет получить доступ к стилям веб-страницы, а также изменять его, добавлять или удалять. При помощи DOM, разработчики могут создавать динамические и интерактивные web - приложения.

2. Может ли итоговый документ отличаться от тела ответа, полученного от сервера? Если да, то по каким причинам это может происходить?

    Да, итоговый документ, который пользователь видит в браузере, может отличаться от тела ответа, полученного от сервера. Это может происходить по нескольким причинам:

    - Кэширование: Если сайт использует кэширование, то браузер может получить копию ранее сохраненной версии страницы вместо новой версии, которая была запрошена с сервера. Это может произойти, если страница уже была загружена ранее.

    - Динамически созданный контент: если контент, который пользователь запрашивает, формируется динамически и на лету через исполнение скриптов на стороне сервера, то содержимое, видимое на стороне клиента, может отличаться от содержимого, отправляемого с сервера.

    - Обработка ошибок: Сервер может вернуть ответ ошибки, в котором сообщается об ошибке, причинах и возможных решениях. В этом случае содержимое ответа может отличаться от запрошенного контента.

    - Ошибки конвертации: Если сервер отправляет данные в неподдерживаемом формате или формат данных не может быть отображен браузером, то ответ может быть конвертирован или отображен каким-то иным образом.

3. Почему если вы сделали всего один запрос, в списке огромное количество запросов и ответов? Что они из себя представляют и на каком основании браузер их делает?
   
    Браузер может запрашивать и получать ресурсы не только при выполнении запроса пользователя, но и на основании действий, которые происходят автоматически, когда он загружает страницу. Например, браузер может запросить изображения и другие визуальные элементы, а также ресурсы, необходимые для отображения страницы, как CSS-файлы и скрипты. Кроме того, браузер может отправлять запросы на мониторинг и аналитику, такие как запросы на Google Analytics или другие инструменты отслеживания. Таким образом, этот список запросов и ответов может содержать не только запросы, связанные с пользовательской деятельностью, но и запросы, генерируемые браузером для функционирования страницы.

## Задание 5

Определение параметров запроса.
Откройте главный сайт университета https://www.rgups.ru/services/time/. Используя инструменты разработчика вкладку Network определить запрос и параметры запроса
позволяющие получить ваше расписание.



#### Ответьте на вопросы:
1. Запрос к какому эндпоинту необходимо выполнить для получения вашего расписания

        Запрос к schedule.php

2. Что содержится в теле ответа
        Часть HTML-кода, тип которого указан во вкладке Header Content-Type: text/html; charset=UTF-8
3. Какого типа запрос вы выполнили?
        POST - запрос
4. Какие данные вы использовали для получения расписания
    - action: timetable
    - fac-id: 1
    - course-id: 3
    - group-id: 26463
    - edu-type: internal

![Ёж](https://tenor.googleapis.com/v2/media?id=1901009021178811541&format=optimizedgif&client_key=tenor_web&appversion=browser-r20230907-2&access_token=ya29.a0AfB_byD9SBsFUMsHoOpqJ1pvc4mXnYIjaPgnCgKoL5o37vCyyUrU2kbIjFYiU1T7Og7r9GPUL79YwktYPfC12maC2nuJ3BiVlQwwxgdjslgeLrebhCRGSYdYqh8urun6uPKHObkO9RkLuUNgVDfctp86TOvfp4wnMgaCgYKAWESARASFQGOcNnCljhrhM30GbxS1bYqUojHgw0169&key=AIzaSyC-P6_qz3FzCoXGLk6tgitZo4jEJ5mLzD8) 
